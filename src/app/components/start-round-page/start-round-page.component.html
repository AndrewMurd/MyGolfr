<app-header></app-header>

<div *ngIf="loading" id="loadingContainer">
  <app-loading-animation></app-loading-animation>
</div>

<app-course-map
  [mapHeight]="'100vh'"
  [changeView]="changeView"
></app-course-map>

<img src="../../../assets/scorecard.png" (click)="showScorecard = !showScorecard" alt="" id="openScorecard">

<edit-score-card
  [ngStyle]="showScorecard && !roundInProgress ? { display: '' } : { display: 'none' }"
></edit-score-card>

<app-active-scorecard
  [ngStyle]="showScorecard && roundInProgress ? { display: '' } : { display: 'none' }"
></app-active-scorecard>

<div id="scoreInput">
  <div *ngIf="!roundInProgress" class="dropdown">
    <button id="selectTeeBtn" class="dropbtn">Select Tee</button>
    <div id="selectTeeContent" class="dropdown-content">
      <a
        (click)="startRound(tee)"
        id="{{ tee.id }}"
        *ngFor="let tee of completedTees?.scorecard"
        >{{ tee.ColorName }}</a
      >
    </div>
  </div>
  <div *ngIf="roundInProgress" class="dropdown">
    <button *ngIf="!show10Input" (click)="openDropdown = !openDropdown" id="selectScoreBtn" class="dropbtn">
      {{ selectedScore }}
    </button>
    <div *ngIf="openDropdown" id="selectScoreContent" class="dropdown-content">
      <a (click)="selectedScore = num; openDropdown = false" *ngFor="let num of createRange(9)">{{
        num
      }}</a>
      <a (click)="show10Input = true">10+</a>
    </div>
  </div>
  <input
    *ngIf="show10Input"
    id="strokesInput"
    type="number"
    min="1"
    [(ngModel)]="strokesInputValue"
    max="20"
    oninput="validity.valid || (value='');"
    step="0.01"
    (keyup.enter)="selectedScore = strokesInputValue; show10Input = false"
  />
</div>
<!-- <button id="submitHole" (click)="submitHole()">Next Hole</button> -->
